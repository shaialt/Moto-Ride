(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".subcategory_wrapper_box"),n=document.querySelector(".subcategory_3d_box"),t=document.querySelectorAll(".subcategory");if(e&&n&&t.length>0){const i=e.clientWidth,o=Math.floor(t.length/2),c=t[o],s=c.offsetLeft+c.offsetWidth/2;e.scrollLeft=s-i/2}});const E=document.querySelector(".next"),$=document.querySelector(".prev"),x=document.querySelector(".carousel");let k=null,w=null;x&&(k=x.querySelector(".list"),x.querySelectorAll(".item"),w=x.querySelector(".time_running"));let Y=3e3,J=7e3;E&&E.addEventListener("click",()=>{D("next")});$&&$.addEventListener("click",()=>{D("prev")});let F,N=null;E&&(N=setTimeout(()=>{E&&typeof E.click=="function"&&E.click()},J));function M(){w&&(w.style.animation="none",w.offsetHeight,w.style.animation=null,w.style.animation="runningTime 7s linear 1 forwards")}function D(e){if(!k||!x)return;let n=k.querySelectorAll(".carousel .list .item");!n||n.length===0||(e==="next"?(k.appendChild(n[0]),x.classList.add("next")):e==="prev"&&(k.prepend(n[n.length-1]),x.classList.add("prev")),clearTimeout(F),F=setTimeout(()=>{x&&(x.classList.remove("next"),x.classList.remove("prev"))},Y),N&&clearTimeout(N),N=setTimeout(()=>{E&&typeof E.click=="function"&&E.click()},J),M())}M();let H=document.querySelector(".right_nav_block .fa-solid");H.addEventListener("click",j);function j(e){document.querySelector(".navigation_menu").classList.toggle("navigation_menu_open_click");let t=document.querySelector(".overlay");t.style.display="block"}let Q=document.querySelector(".navigation_menu_close_button");Q.addEventListener("click",W);function W(e){document.querySelector(".navigation_menu").classList.toggle("navigation_menu_open_click");let t=document.querySelector(".overlay");t.style.display="none"}let z=document.querySelectorAll(".navigation_menu a");z.forEach(e=>{e.addEventListener("click",function(n){n.preventDefault(),W(),setTimeout(()=>{window.location.href=e.getAttribute("href")},300)})});let R=document.querySelector(".quick_menu_filter");R&&R.addEventListener("click",G);function G(e){let n=document.querySelector(".catalog_menu");n.classList.toggle("catalog_menu_open");let t=document.querySelector(".catalog_overlay"),i=document.querySelector("footer");document.querySelector("#category_header").classList.toggle("category_header"),document.querySelector("#filter_box").classList.toggle("filter_box_query"),n.classList=="catalog_menu catalog_menu_open"?(t.style.display="block",i.style.position="fixed"):(t.style.display="none",i.style.position="static")}document.addEventListener("DOMContentLoaded",()=>{const e="shaialt",n="Moto-Ride",t=window.location.hostname===`${e}.github.io`,i=t?`/${n}/`:"/";function o(c,s){return c&&c.startsWith("/")?`/${s}${c}`:c}fetch(`${i}data/data.json`).then(c=>c.json()).then(c=>(t&&(c=c.map(s=>(s.image=o(s.image,n),s.logo=o(s.logo,n),Array.isArray(s.images)&&(s.images=s.images.map(r=>o(r,n))),s))),c)).then(c=>{let s=0;c.forEach(()=>s++);const r=document.querySelector(".total_products");if(r&&(r.textContent=`Discover ${s} exlusive motorcyles`),c.sort((l,m)=>m.popularity-l.popularity).slice(0,4).forEach(l=>{V(l)}),window.location.href.includes("product.html")){const l=window.location.href.split("=")[2].split("&")[0],m=c.find(d=>d.id===l);m?he(m):console.warn("Not found product with id:",l)}else window.location.href.includes("catalog.html")&&c.forEach(l=>{K(l)});const h=document.querySelector("#welcome_animation_input");h.addEventListener("input",function(){const l=document.querySelector(".suggestions_box");l&&l.remove();const m=h.value.toLowerCase();let d=[];if(h.addEventListener("keypress",function(a){a.key==="Enter"&&(a.preventDefault(),d.length>0&&(localStorage.setItem("searchResults",JSON.stringify(d)),window.location.href=`pages/catalog.html?search=${encodeURIComponent(m)}`))}),m.length>=2){d=c.filter(u=>u.manufacturer.toLowerCase().includes(m)||u.name.toLowerCase().includes(m)||u.description.toLowerCase().includes(m));const a=d.map(u=>u.name);console.log("Filtered products:",a)}if(d.length>0){let a=document.createElement("div");a.classList.add("suggestions_box"),a.style.width="100%",a.style.height="auto",a.style.maxHeight="300px",a.style.backgroundColor="white",a.style.position="absolute",a.style.top="90%",a.style.left="0",a.style.zIndex="997",a.style.border="1px solid #601E1E",a.style.borderTop="3px solid white",a.style.borderBottomLeftRadius="6px",a.style.borderBottomRightRadius="6px",a.style.overflowY="auto",a.style.opacity="0",a.style.transform="translateY(-10px)",a.style.transition="opacity 0.5s ease, transform 0.5s ease",d.forEach(_=>{const p=document.createElement("div");p.style.padding="10px",p.style.borderBottom="1px solid #eee",p.style.cursor="pointer",p.style.display="flex",p.style.alignItems="center",p.style.justifyContent="space-between";const y=document.createElement("div");y.textContent=_.name,y.style.flex="1";const f=document.createElement("img");f.src=_.image,f.style.width="40px",f.style.height="40px",f.style.objectFit="cover",f.style.marginLeft="10px",f.style.borderRadius="4px",p.addEventListener("click",()=>{const C=new URLSearchParams;C.append("category",_.category),C.append("id",_.id),C.append("name",_.name),window.location.href=`pages/product.html?${C.toString()}`}),p.appendChild(y),p.appendChild(f),a.appendChild(p)});const u=document.querySelector(".welcome_animation_box");u&&(u.style.position="relative",u.appendChild(a),requestAnimationFrame(()=>{a.style.opacity="1",a.style.transform="translateY(0)"})),document.querySelector(".welcome_animation_box").style.borderBottomLeftRadius="0px !important",document.querySelector(".welcome_animation_box").style.borderBottomRightRadius="0px !important"}})}).catch(c=>console.error("Error loading JSON:",c)),te(),ae()});function K(e){if(window.location.pathname.includes("catalog.html")){//!: קריאה לפונקציה שיוצרת את המוצר בקטלוג
X(e)}//!: השמה של איבנט על האייקונים שבתוך המוצר להוספה למועדפים
document.querySelectorAll(".product_super_box").forEach(t=>{const i=t.querySelector(".add_to_wishlist");i&&i.addEventListener("click",Z);const o=t.querySelector(".add_to_cart");o&&o.addEventListener("click",ie)});//!: קריאה לפונקציה שמעדכנת מצב מועדפים ועגלה לאחר קבלת תשובה מהשרת
ee(),se()}function V(e){const n=document.createElement("div");n.classList.add("top_product_super_box"),n.id=e.id,n.setAttribute("data-stock",e.stock||1),e.status&&n.style.setProperty(`--${e.status}`,"true");const t=document.createElement("div");t.classList.add("box");const i=document.createElement("p");i.textContent="Moto-Ride 🏍️",t.appendChild(i);const o=document.createElement("div");o.classList.add("product_box");const c=document.createElement("div");c.classList.add("product_img_box");const s=document.createElement("img");s.src=e.image,s.classList.add("product_img"),c.appendChild(s);const r=document.createElement("div");r.classList.add("product_logo_box");const g=document.createElement("img");g.src=e.logo,g.classList.add("product_logo_img");const h=document.createElement("div"),l=document.createElement("i");l.classList.add("fa-solid","fa-heart","add_to_wishlist");const m=document.createElement("i");m.classList.add("fa-solid","fa-cart-shopping","add_to_cart"),h.appendChild(l),h.appendChild(m),r.appendChild(g),r.appendChild(h);const d=document.createElement("div");d.classList.add("center");const a=document.createElement("article");a.classList.add("product_name_box");const u=document.createElement("h3");u.classList.add("product_name"),u.textContent=e.name,a.appendChild(u);const _=document.createElement("article");_.classList.add("describe_box");const p=document.createElement("p");p.classList.add("describe"),p.textContent=e.description,_.appendChild(p);const y=document.createElement("article");y.classList.add("buy_box");const f=document.createElement("div"),C=document.createElement("div");C.classList.add("original_price_box");const b=document.createElement("h4");b.classList.add("original_price"),b.textContent=e.originalPrice;const S=document.createElement("p");S.classList.add("discount"),S.textContent=e.discount,C.appendChild(b),C.appendChild(S);const I=document.createElement("h2");I.textContent=e.finalPrice,f.appendChild(C),f.appendChild(I);const L=document.createElement("a");L.href=`product.html?category=${encodeURIComponent(e.category)}&id=${e.id}&name=${encodeURIComponent(e.name)}`,L.classList.add("a_button");const v=document.createElement("button");v.classList.add("button");const q=document.createElement("i");q.classList.add("fa-solid","fa-bag-shopping"),v.appendChild(q),L.appendChild(v),y.appendChild(f),y.appendChild(L),d.appendChild(a),d.appendChild(_),d.appendChild(y);const B=document.createElement("div");B.classList.add("new_popular");const P=document.createElement("div");P.classList.add("curve"),o.appendChild(c),o.appendChild(r),o.appendChild(d),o.appendChild(B),o.appendChild(P),n.appendChild(t),n.appendChild(o);const O=document.querySelector("#top_products");O&&O.appendChild(n)}function X(e){const n=document.createElement("div");n.classList.add("product_super_box"),n.id=e.id,n.setAttribute("data-stock",e.stock||1),e.status&&n.style.setProperty(`--${e.status}`,"true");const t=document.createElement("div");t.classList.add("box");const i=document.createElement("p");i.textContent="Moto-Ride 🏍️",t.appendChild(i);const o=document.createElement("div");o.classList.add("product_box");const c=document.createElement("div");c.classList.add("product_img_box");const s=document.createElement("img");s.src=e.image,s.classList.add("product_img"),c.appendChild(s);const r=document.createElement("div");r.classList.add("product_logo_box");const g=document.createElement("img");g.src=e.logo,g.classList.add("product_logo_img");const h=document.createElement("div"),l=document.createElement("i");l.classList.add("fa-solid","fa-heart","add_to_wishlist");const m=document.createElement("i");m.classList.add("fa-solid","fa-cart-shopping","add_to_cart"),h.appendChild(l),h.appendChild(m),r.appendChild(g),r.appendChild(h);const d=document.createElement("div");d.classList.add("center");const a=document.createElement("article");a.classList.add("product_name_box");const u=document.createElement("h3");u.classList.add("product_name"),u.textContent=e.name,a.appendChild(u);const _=document.createElement("article");_.classList.add("describe_box");const p=document.createElement("p");p.classList.add("describe"),p.textContent=e.description,_.appendChild(p);const y=document.createElement("article");y.classList.add("buy_box");const f=document.createElement("div"),C=document.createElement("div");C.classList.add("original_price_box");const b=document.createElement("h4");b.classList.add("original_price"),b.textContent=e.originalPrice;const S=document.createElement("p");S.classList.add("discount"),S.textContent=e.discount,C.appendChild(b),C.appendChild(S);const I=document.createElement("h2");I.textContent=e.finalPrice,f.appendChild(C),f.appendChild(I);const L=document.createElement("a");L.href=`product.html?category=${encodeURIComponent(e.category)}&id=${e.id}&name=${encodeURIComponent(e.name)}`,L.classList.add("a_button");const v=document.createElement("button");v.classList.add("button");const q=document.createElement("i");q.classList.add("fa-solid","fa-bag-shopping"),v.appendChild(q),L.appendChild(v),y.appendChild(f),y.appendChild(L),d.appendChild(a),d.appendChild(_),d.appendChild(y);const B=document.createElement("div");B.classList.add("new_popular");const P=document.createElement("div");if(P.classList.add("curve"),o.appendChild(c),o.appendChild(r),o.appendChild(d),o.appendChild(B),o.appendChild(P),n.appendChild(t),n.appendChild(o),window.location.href.includes("catalog.html")){const U=new URLSearchParams(window.location.search).get("category");if(e.category===U){const A=document.querySelector("#catalog");A&&A.appendChild(n)}}}function Z(e){const n=e.currentTarget;n.classList.contains("add_to_wishlist_click")?n.classList.remove("add_to_wishlist_click"):n.classList.add("add_to_wishlist_click");const t=n.closest(".product_super_box");if(!t)return;const i=t.id,o=t.querySelector(".product_name")?.textContent.trim(),c=t.querySelector(".describe")?.textContent.trim(),s=t.querySelector(".product_img")?.src,r=t.querySelector(".product_logo_img")?.src,g=t.querySelector(".original_price")?.textContent.trim(),h=t.querySelector(".discount")?.textContent.trim(),l=t.querySelector("h2")?.textContent.trim(),m=parseInt(t.dataset.stock)||1,d=t.querySelector(".a_button")?.href;if(!i||!o)return;const a={id:i,name:o,description:c,image:s,logo:r,originalPrice:g,discount:h,finalPrice:l,stock:m,buyLink:d};let u=JSON.parse(localStorage.getItem("wishlist"))||[];const _=u.findIndex(p=>p.id===i);n.classList.contains("add_to_wishlist_click")?_===-1&&u.push(a):_!==-1&&u.splice(_,1),localStorage.setItem("wishlist",JSON.stringify(u))}function ee(){(JSON.parse(localStorage.getItem("wishlist"))||[]).forEach(n=>{const t=document.getElementById(n.id);if(t){const i=t.querySelector(".add_to_wishlist");i&&i.classList.add("add_to_wishlist_click")}})}function te(){const e=JSON.parse(localStorage.getItem("wishlist"))||[],n=document.querySelector("#wish_chosen_products_list_ul");if(!n){console.warn("Container for wishlist not found!");return}if(n.innerHTML="",e.length===0)return;e.forEach(i=>{ne(i)}),oe();const t=document.querySelector(".wish_header p");t&&(t.textContent="You have: "+e.length+" items in your wishlist.")}function ne(e){const n=document.createElement("li");n.setAttribute("data-id",e.id);const t=document.createElement("div");t.classList.add("wish_chosen_product_list");const i=document.createElement("i");i.classList.add("wish_delete","fa-solid","fa-heart");const o=document.createElement("div");o.classList.add("wish_chosen_product_img_box");const c=document.createElement("a");c.href=`catalog.html#${e.id}`;const s=document.createElement("img");s.src=e.image,s.alt=e.name;const r=document.createElement("article");r.classList.add("wish_chosen_product_content_box");const g=document.createElement("div");g.classList.add("wish_chosen_product_price");const h=document.createElement("div");h.classList.add("original_price_box");const l=document.createElement("h4");l.classList.add("original_price"),l.textContent=e.originalPrice;const m=document.createElement("p");m.classList.add("discount"),m.textContent=e.discount;const d=document.createElement("h2");d.textContent=e.finalPrice;const a=document.createElement("div");a.classList.add("wish_product_title");const u=document.createElement("h3");u.classList.add("wish_product_name"),u.textContent=e.name;const _=document.createElement("p");_.classList.add("wish_describe"),_.textContent=e.description;const p=document.createElement("div");p.classList.add("wish_product_buttons");const y=document.createElement("button");y.textContent="Add to cart";const f=document.createElement("a"),C=document.createElement("button");f.href=e.buyLink,C.textContent="Buy now",C.classList.add("buy_now_button"),c.appendChild(s),o.appendChild(c),h.appendChild(l),h.appendChild(m),g.appendChild(h),g.appendChild(d),a.appendChild(u),a.appendChild(_),p.appendChild(y),f.appendChild(C),p.appendChild(f),r.appendChild(g),r.appendChild(a),r.appendChild(p),t.appendChild(i),t.appendChild(o),t.appendChild(r),n.appendChild(t),document.querySelector("#wish_chosen_products_list_ul").appendChild(n)}function oe(){document.querySelectorAll(".wish_delete").forEach(n=>{n.addEventListener("click",ce)})}function ce(e){const t=e.currentTarget.closest("li");if(!t)return;const i=t.getAttribute("data-id");t.remove();let o=JSON.parse(localStorage.getItem("wishlist"))||[];o=o.filter(s=>s.id!==i),localStorage.setItem("wishlist",JSON.stringify(o));const c=document.querySelector(".wish_header p");c&&(c.textContent="You have: "+o.length+" items in your wishlist.")}function ie(e){const n=e.currentTarget;n.classList.contains("add_to_cart_click")?n.classList.remove("add_to_cart_click"):n.classList.add("add_to_cart_click");const t=n.closest(".product_super_box");if(!t)return;const i=t.id,o=t.querySelector(".product_name")?.textContent.trim(),c=t.querySelector(".describe")?.textContent.trim(),s=t.querySelector(".product_img")?.src,r=t.querySelector(".product_logo_img")?.src,g=t.querySelector(".original_price")?.textContent.trim(),h=t.querySelector(".discount")?.textContent.trim(),l=t.querySelector("h2")?.textContent.trim()||"0",m=pe(l),d=parseInt(t.dataset.stock)||1;let a=1;const u=t.querySelector(".a_button")?.href;if(!i||!o)return;const _={id:i,name:o,description:c,image:s,logo:r,originalPrice:g,discount:h,finalPrice:m,stock:d,quantity:a,buyLink:u};let p=JSON.parse(localStorage.getItem("cart"))||[];const y=p.findIndex(f=>f.id===i);n.classList.contains("add_to_cart_click")?y===-1&&p.push(_):y!==-1&&p.splice(y,1),localStorage.setItem("cart",JSON.stringify(p))}function se(){(JSON.parse(localStorage.getItem("cart"))||[]).forEach(n=>{const t=document.getElementById(n.id);if(t){const i=t.querySelector(".add_to_cart");i&&i.classList.add("add_to_cart_click")}})}function ae(){const e=JSON.parse(localStorage.getItem("cart"))||[],n=document.querySelector("#chosen_products_list_ul");if(!n){console.warn("Container for cart not found!");return}if(n.innerHTML="",e.length===0)return;e.forEach(i=>{re(i)}),le(),ue();const t=document.querySelector(".cart_header p");t&&(t.textContent="You have: "+e.length+" items in your wishlist."),T()}function re(e){const n=document.createElement("li");n.setAttribute("data-id",e.id);const t=document.createElement("div");t.classList.add("chosen_product_list"),t.dataset.price=e.finalPrice;const i=document.createElement("i");i.classList.add("cart_delete","fa-solid","fa-xmark");const o=document.createElement("div");o.classList.add("chosen_product_img_box");const c=document.createElement("a");c.href=`catalog.html#${e.id}`;const s=document.createElement("img");s.src=e.image,s.alt="",c.appendChild(s),o.appendChild(c);const r=document.createElement("ul"),g=document.createElement("li");g.textContent=e.name;const h=document.createElement("li");h.classList.add("cart_price_per_item"),h.textContent=`${e.finalPrice.toLocaleString("he-IL",{minimumFractionDigits:2,maximumFractionDigits:2})} $`;const l=document.createElement("li");let m=parseInt(e.quantity);(!m||m<1)&&(m=1),e.quantity=m;const d=document.createElement("input");d.type="number",d.value=m,d.min=1,d.classList.add("chosen_product_input"),d.addEventListener("keydown",function(u){(u.key==="-"||u.key==="."||u.key==="e")&&u.preventDefault()}),l.appendChild(d);const a=document.createElement("li");a.classList.add("cart_item_total_price"),e.finalPrice,a.textContent=`${(e.finalPrice*m).toLocaleString("he-IL",{minimumFractionDigits:2,maximumFractionDigits:2})} $`,r.appendChild(g),r.appendChild(h),r.appendChild(l),r.appendChild(a),t.appendChild(i),t.appendChild(o),t.appendChild(r),n.appendChild(t),document.querySelector("#chosen_products_list_ul").appendChild(n)}function le(){document.querySelectorAll(".cart_delete").forEach(n=>{n.addEventListener("click",de)})}function de(e){const t=e.currentTarget.closest("li");if(!t)return;const i=t.getAttribute("data-id");t.remove();let o=JSON.parse(localStorage.getItem("cart"))||[];o=o.filter(s=>s.id!==i),localStorage.setItem("cart",JSON.stringify(o));const c=document.querySelector(".cart_header p");c&&(c.textContent="You have: "+o.length+" items in your wishlist."),T()}function ue(){document.querySelectorAll(".chosen_product_input").forEach(n=>{n.addEventListener("input",me)})}function me(e){const n=e.currentTarget,t=Number(n.value);(!t||t<1)&&(t=1,n.value=t);const i=n.closest(".chosen_product_list");if(!i)return;const o=Number(i.dataset.price),c=i.querySelector(".cart_item_total_price");if(!isNaN(o)&&c){const l=t*o;c.textContent=`${l.toLocaleString("he-IL",{minimumFractionDigits:2,maximumFractionDigits:2})} $`}const s=n.closest("li[data-id]");if(!s)return;const r=s.getAttribute("data-id");let g=JSON.parse(localStorage.getItem("cart"))||[];const h=g.findIndex(l=>l.id===r);h!==-1&&(g[h].quantity=t,localStorage.setItem("cart",JSON.stringify(g))),T()}function pe(e){let n=e.replace(/[^\d.,]/g,"");n.includes(".")&&n.includes(",")?n=n.replace(/,/g,""):n.includes(",")&&!n.includes(".")&&(n=n.replace(/,/g,"."));const t=parseFloat(n);return isNaN(t)?0:t}function T(){const e=JSON.parse(localStorage.getItem("cart"))||[];let n=0;e.forEach(o=>{const c=parseInt(o.quantity)||1,s=parseFloat(o.finalPrice)||0;n+=c*s});const t=document.querySelector(".subtotal");t&&(t.textContent=`${n.toLocaleString("he-IL",{minimumFractionDigits:2,maximumFractionDigits:2})} $`);const i=document.querySelector(".total");i.textContent=t.textContent}function he(e){const n=document.createElement("img");n.classList.add("main_image"),n.src=e.image,document.querySelector("#product_page_main_img").appendChild(n);const t=document.createElement("img");t.classList.add("product_page_first_img"),t.src=e.images[0],document.querySelector("#product_page_first_second_img_box").appendChild(t);const i=document.createElement("img");i.classList.add("product_page_second_img"),i.src=e.images[1],document.querySelector("#product_page_second_second_img_box").appendChild(i);const o=document.createElement("img");o.classList.add("product_page_third_img"),o.src=e.images[2],document.querySelector("#product_page_third_second_img_box").appendChild(o);const c=document.createElement("img");c.classList.add("product_page_fourth_img"),c.src=e.images[3],document.querySelector("#product_page_fourth_second_img_box").appendChild(c);const s=document.querySelector("#product_page_name");s.textContent=e.name;const r=document.querySelector("#original_price");r.textContent=e.originalPrice;const g=document.querySelector("#discount");g.textContent=e.discount;const h=document.querySelector("#final_price");h.textContent=e.finalPrice;const l=document.querySelector("#product_page_describe");l.textContent=e.description}
